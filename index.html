---
title: Fabriquer
---
{% capture content %}

Fabriquer is a build language for complex systems.
It is *functional*, statically *typed*, has very *few dependencies* and is
designed for either *command-line* use or *IDE* integration.

{% highlight fab %}
# Values are constant and typed (but types can be inferred)
CC = 'clang';  # CC:string = 'clang';
object_suffix = if (windows) '.obj' else '.o';

# Build actions are defined explicitly
cc_one = action('$CC -c $in -o $out' <- in:file, out:file);
link = action('$CC $in -o $out' <- in:list[file], out:file);

# Functions allow higher-level build descriptions
cc = function(srcs:list[file], cflags = '-Weverything')
	foreach src in srcs
		cc_one(src, out = src + object_suffix);

# Build targets correspond to high-level build actions
obj = cc(files(foo.c bar.c baz.c));
bin = link(obj, out = file('foo'));
{% endhighlight %}

{% endcapture %}

{% include markdown-page.html %}
